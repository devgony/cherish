{"version":3,"sources":["test.jpeg","App.js","index.js"],"names":["module","exports","FOODS","name","price","FLOWERS","QueryParamsDemo","handleDownload","query","URLSearchParams","useLocation","search","pathname","history","useHistory","useState","get","onCheck","value","set","push","toString","map","food","i","type","id","checked","onChange","target","htmlFor","flower","Total","foodIdx","flowerIdx","className","href","onClick","disabled","console","log","window","location","Kakao","Link","sendDefault","objectType","content","title","description","imageUrl","link","mobileWebUrl","webUrl","App","snap","useCapture","element","useRef","useCallback","file","ref","style","padding","background","src","require","width","height","alt","color","ReactDOM","render","document","getElementById"],"mappings":"+IAAAA,EAAOC,QAAU,IAA0B,mC,wHCWrCC,EAAQ,CACZ,CAAEC,KAAM,iCAAcC,MAAO,KAC7B,CAAED,KAAM,iCAAcC,MAAO,KAC7B,CAAED,KAAM,4BAAcC,MAAO,MAEzBC,EAAU,CACd,CAAEF,KAAM,2BAAaC,MAAO,KAC5B,CAAED,KAAM,uCAAeC,MAAO,KAC9B,CAAED,KAAM,2BAAaC,MAAO,MA2D9B,SAASE,EAAT,GAA8C,IAAnBC,EAAkB,EAAlBA,eAErBC,EAzDG,IAAIC,gBAAgBC,cAAcC,QA0DrCC,EAAWF,cAAcE,SACzBC,EAAUC,cAJ6B,EAMLC,mBAAS,QAAD,OAASP,EAAMQ,IAAI,UANtB,gCAODD,mBAAS,UAAD,OACtCP,EAAMQ,IAAI,aARqB,mBAWrCC,GAXqC,UAW3B,SAACd,EAAMe,GACrBV,EAAMW,IAAIhB,EAAMe,GAChBL,EAAQO,KAAK,CACXR,SAAUA,EACVD,OAAQH,EAAMa,eAmBlB,OACE,6BACGnB,EAAMoB,KAAI,SAACC,EAAMC,GAAP,OACT,oCACE,2BACEC,KAAK,QACLC,GAAE,eAAUF,GACZrB,KAAK,OACLwB,QAAS,eAAQnB,EAAMQ,IAAI,WAAlB,eAAwCQ,GACjDI,SAAU,YAAwB,EAArBC,OAAUH,GAErBT,EAAQ,OAAQO,MAGpB,2BAAOM,QAAO,eAAUN,IAAMD,EAAKpB,UAGvC,6BACCE,EAAQiB,KAAI,SAACS,EAAQP,GAAT,OACX,oCACE,2BACEC,KAAK,QACLC,GAAE,iBAAYF,GACdrB,KAAK,SACLwB,QAAS,iBAAUnB,EAAMQ,IAAI,aAApB,iBAA8CQ,GACvDI,SAAU,YAAwB,EAArBC,OAAUH,GAErBT,EAAQ,SAAUO,MAGtB,2BAAOM,QAAO,iBAAYN,IAAMO,EAAO5B,UAG3C,kBAAC6B,EAAD,CAAOC,QAASzB,EAAMQ,IAAI,QAASkB,UAAW1B,EAAMQ,IAAI,YACxD,yBAAKmB,UAAU,mBACb,uBAAGC,KAAK,mBAAR,4BACA,4BAAQC,QAAS9B,GAAjB,iEAGA,4BAAQ+B,UAAQ,GAAhB,kCACA,4BAAQD,QAxDK,WACjBE,QAAQC,IAAIC,OAAOC,SAASN,MAC5BK,OAAOE,MAAMC,KAAKC,YAAY,CAC5BC,WAAY,OACZC,QAAS,CACPC,MAAO,2BACPC,YAAa,4CACbC,SACE,6FACFC,KAAM,CACJC,aAAcX,OAAOC,SAASN,KAC9BiB,OAAQZ,OAAOC,SAASN,WA6C1B,0CAMR,SAASJ,EAAT,GAAwC,IAAvBC,EAAsB,EAAtBA,QAASC,EAAa,EAAbA,UACxB,OACE,6BACGD,GAAWC,EACV,yDAAWhC,EAAM+B,GAAS7B,MAAQC,EAAQ6B,GAAW9B,OAErD,kFAKOkD,MA/If,WAIE,IAKQC,EAASC,cAATD,KACFE,EAAUC,iBAAO,MAEjBnD,EAAiBoD,uBAAY,WACjCJ,EAAKE,EAAS,CAAEG,KAAM,mBACrB,CAACL,EAAME,IAaV,OACE,oCACE,kBAAC,IAAD,KACE,yBAAKI,IAAKJ,GACR,yBAAK/B,GAAG,UAAUoC,MAAO,CAAEC,QAAS,OAAQC,WAAY,YAEtD,yBACEC,IAAKC,EAAQ,IACbJ,MAAO,CAAEK,MAAO,QAASC,OAAQ,SACjCC,IAAI,SAEN,wBAAIP,MAAO,CAAEQ,MAAO,SAApB,iBAEF,kBAAChE,EAAD,CAIEC,eAAgBA,QClE5BgE,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.71efb107.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/test.b6aad8c8.jpeg\";","import React, { useRef, useCallback, useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport * as html2canvas from \"html2canvas\";\nimport { useCapture } from \"react-capture\";\nimport {\n  BrowserRouter as Router,\n  Link,\n  useLocation,\n  useHistory,\n} from \"react-router-dom\";\n\nconst FOODS = [\n  { name: \"공기밥: 1000원\", price: 1000 },\n  { name: \"육개장: 5000원\", price: 5000 },\n  { name: \"편육: 10000원\", price: 10000 },\n];\nconst FLOWERS = [\n  { name: \"장미: 3000원\", price: 3000 },\n  { name: \"해바라기: 6000원\", price: 6000 },\n  { name: \"튤립: 9000원\", price: 9000 },\n];\n\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\nfunction App() {\n  // let query = useQuery();\n  // let pathname = useLocation().pathname;\n  // let history = useHistory();\n  const handleCapture = () => {\n    html2canvas(document.querySelector(\":root\")).then((canvas) => {\n      document.body.appendChild(canvas);\n    });\n  };\n  const { snap } = useCapture();\n  const element = useRef(null);\n\n  const handleDownload = useCallback(() => {\n    snap(element, { file: \"download.png\" });\n  }, [snap, element]);\n  // useEffect(() => {\n  //   const script = document.createElement(\"script\");\n  //   script.src = \"https://developers.kakao.com/sdk/js/kakao.js\";\n  //   script.async = true;\n  //   document.body.appendChild(script);\n  //   window.Kakao.init(\"a9ef4d3325bd1131b399777e2bbbc266\");\n  //   console.log(window.Kakao.isInitialized());\n  //   return () => {\n  //     document.body.removeChild(script);\n  //   };\n  // }, []);\n\n  return (\n    <>\n      <Router>\n        <div ref={element}>\n          <div id=\"capture\" style={{ padding: \"10px\", background: \"#f5da55\" }}>\n            {/* <img src=\"https://source.unsplash.com/random/300x300\"></img> */}\n            <img\n              src={require(\"./test.jpeg\")}\n              style={{ width: \"300px\", height: \"300px\" }}\n              alt=\"none\"\n            ></img>\n            <h4 style={{ color: \"#000\" }}>Capture Test</h4>\n          </div>\n          <QueryParamsDemo\n            // query={query}\n            // pathname={pathname}\n            // history={history}\n            handleDownload={handleDownload}\n          />\n        </div>\n      </Router>\n    </>\n  );\n}\n\nfunction QueryParamsDemo({ handleDownload }) {\n  // { query, pathname, history }\n  let query = useQuery();\n  let pathname = useLocation().pathname;\n  let history = useHistory();\n\n  const [checkedFood, setCheckedFood] = useState(`food_${query.get(\"food\")}`);\n  const [checkedFlower, setCheckedFlower] = useState(\n    `flower_${query.get(\"flower\")}`\n  );\n\n  const onCheck = (name, value) => {\n    query.set(name, value);\n    history.push({\n      pathname: pathname,\n      search: query.toString(),\n    });\n  };\n  const shareKakao = () => {\n    console.log(window.location.href);\n    window.Kakao.Link.sendDefault({\n      objectType: \"feed\",\n      content: {\n        title: \"추모센터\",\n        description: \"#추모 #센터 #장례\",\n        imageUrl:\n          \"http://k.kakaocdn.net/dn/Q2iNx/btqgeRgV54P/VLdBs9cvyn8BJXB3o7N8UK/kakaolink40_original.png\",\n        link: {\n          mobileWebUrl: window.location.href,\n          webUrl: window.location.href,\n        },\n      },\n    });\n  };\n  return (\n    <div>\n      {FOODS.map((food, i) => (\n        <>\n          <input\n            type=\"radio\"\n            id={`food_${i}`}\n            name=\"food\"\n            checked={`food_${query.get(\"food\")}` === `food_${i}`}\n            onChange={({ target: { id } }) => {\n              // setCheckedFood(id);\n              onCheck(\"food\", i);\n            }}\n          />\n          <label htmlFor={`food_${i}`}>{food.name}</label>\n        </>\n      ))}\n      <br />\n      {FLOWERS.map((flower, i) => (\n        <>\n          <input\n            type=\"radio\"\n            id={`flower_${i}`}\n            name=\"flower\"\n            checked={`flower_${query.get(\"flower\")}` === `flower_${i}`}\n            onChange={({ target: { id } }) => {\n              // setCheckedFlower(id);\n              onCheck(\"flower\", i);\n            }}\n          />\n          <label htmlFor={`flower_${i}`}>{flower.name}</label>\n        </>\n      ))}\n      <Total foodIdx={query.get(\"food\")} flowerIdx={query.get(\"flower\")} />\n      <div className=\"button__wrapper\">\n        <a href=\"tel:01096549799\">전화연결</a>\n        <button onClick={handleDownload}>\n          저장하기(safari or chrome만 가능)\n        </button>\n        <button disabled>문자로공유</button>\n        <button onClick={shareKakao}>카톡으로공유</button>\n      </div>\n    </div>\n  );\n}\n\nfunction Total({ foodIdx, flowerIdx }) {\n  return (\n    <div>\n      {foodIdx && flowerIdx ? (\n        <h3>최종금액: {FOODS[foodIdx].price + FLOWERS[flowerIdx].price}</h3>\n      ) : (\n        <h3>모두 선택해주세요</h3>\n      )}\n    </div>\n  );\n}\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}